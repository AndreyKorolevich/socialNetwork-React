{"version":3,"sources":["serviceWorker.js","components/Navbar/NavbarFriends/NavbarFriends.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","App.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","redux/auth-reducer.js","components/Common/Preloader/Preloader.jsx","components/Header/Header.module.css","redux/profile-reducer.js","components/Dialogs/Avatars/Avatar.jsx","api/api.js","redux/newDialogs-reducer.js","components/Utilits/converter.js","redux/users-reducer.js","components/Navbar/NavbarFriends/NavbarFirends.module.css","components/Dialogs/Avatars/Avatar.module.css","components/Common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css"],"names":["Boolean","window","location","hostname","match","NavbarFriends","props","className","classes","name","Avatar","img","Navbar","friendsElement","friends","slice","map","friend","key","id","nav","item","to","activeClassName","active","friendsName","NavbarContainer","connect","state","sidebar","dispatch","Header","header","src","login","isAuth","onClick","logout","HeaderAPI","render","React","Component","HeaderContainer","authUser","initialState","initialize","AppReducer","action","type","DialogsContainer","lazy","FriendsContainer","ProfileContainer","UsersContainer","News","Music","Settings","Login","App","this","initialized","Suspense","fallback","Preloader","path","compose","withRouter","app","a","promise","Promise","all","sideBarReducer","newState","reducers","combineReducers","profilePage","profileReducer","dialogsPage","newDialogsReducer","usersPage","usersReducer","authReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","email","captchaUrl","setUserData","data","setCaptchaUrl","AuthorAxios","autMe","resultCode","password","rememberMe","captcha","SecurityAxios","getCaptchaUrl","url","stopSubmit","_error","messages","lds","module","exports","ADD_POST","posts","message","likeCount","profile","status","setUserStatus","addNewPost","newPost","setUserPhoto","photo","getUserProfile","ProfileAxios","getProfile","response","saveProfile","getState","userId","input","indexOf","length","toLowerCase","error","savePhoto","setPhoto","photos","getUserStatus","getStatus","updateUserStatus","updateStatus","filter","post","postId","instance","axios","withCredentials","baseURL","headers","UserAxios","currentPage","pageSize","get","delete","put","formData","FormData","append","dialogs","avatars","addNewMessage","newMessage","converter","items","objPropName","newObjProps","user","users","totalUsersCount","isFetching","followingInProgress","followSuccess","setUsers","unfollowSuccess","setTotalCount","totalCount","changeIsFetching","disableButton","getUser","getUsers","getPage","numberPage","followUnfollow","api","unfollow","bind","follow","followed"],"mappings":"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","file":"static/js/main.d6b80559.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport classes from './NavbarFirends.module.css';\r\nimport Avatar from \"../../Dialogs/Avatars/Avatar\";\r\n\r\n\r\nconst NavbarFriends = (props) => {\r\n\r\n    return (\r\n        <div className={classes.name}>\r\n            <Avatar img={props.img}/>\r\n            {props.name}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavbarFriends;"," import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n import NavbarFriends from \"./NavbarFriends/NavbarFriends\";\r\n\r\nconst Navbar = ({friends}) => {\r\n\r\n    let bestFriends = friends.slice(0,3)\r\n    let friendsElement = bestFriends\r\n        .map(friend => <NavbarFriends name={friend.name} key={friend.id} id={friend.id} img={friend.img}/>);\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/profile\" activeClassName={classes.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={classes.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={classes.active}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={classes.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/friends' activeClassName={classes.active}>Friends</NavLink>\r\n                <div className={classes.friendsName}>\r\n                {friendsElement}\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import Navbar from \"./Navbar\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.sidebar.friends\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {}\r\n}\r\nconst NavbarContainer = connect(mapStateToProps, mapDispatchToProps)(Navbar)\r\nexport default NavbarContainer;","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img src='https://media.istockphoto.com/illustrations/cartoon-spaceman-looks-a-cute-illustration-id516985444'></img>\r\n            <div className={classes.login}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderAPI extends React.Component {\r\n\r\n    render = () => {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authUser.isAuth,\r\n        login: state.authUser.login\r\n    }\r\n}\r\n\r\n\r\nconst HeaderContainer = connect(mapStateToProps, {logout})(HeaderAPI)\r\nexport default HeaderContainer;","import {authUser} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED_SUCCESS ';\r\n\r\n\r\nlet initialState = {\r\n    initialize: false,\r\n};\r\n\r\nconst AppReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialize: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initialized = () => {\r\n    return async (dispatch) => {\r\n        let promise = dispatch(authUser());\r\n        await Promise.all([promise]);\r\n        dispatch(initializedSuccess());\r\n    }\r\n}\r\n\r\nexport default AppReducer","import React from 'react';\nimport './App.css';\nimport {Route, withRouter} from \"react-router-dom\";\nimport NavbarContainer from \"./components/Navbar/NavbarContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initialized} from \"./redux/app-reducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst FriendsContainer = React.lazy(() => import('./components/Friends/FriendsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst News = React.lazy(() => import('./components/News/News'));\nconst Music = React.lazy(() => import('./components/Music/Music'));\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initialized();\n    }\n\n    render() {\n        if (!this.props.initialize) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <NavbarContainer/>\n                <div className='app-wrapper-content'>\n                    <React.Suspense fallback={<Preloader/>}>\n                            <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                            <Route path='/friends' render={() => <FriendsContainer/>}/>\n                            <Route path='/users' render={() => <UsersContainer/>}/>\n                            <Route path='/news' render={() => <News/>}/>\n                            <Route path='/music' render={() => <Music/>}/>\n                            <Route path='/settings' render={() => <Settings/>}/>\n                            <Route path='/login' render={() => <Login/>}/>\n                    </React.Suspense>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        initialize: state.app.initialize\n    }\n}\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initialized})\n)(App);\n","let initialState = {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: 'Andrew',\r\n            img: 'https://i.pinimg.com/originals/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64.jpg'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Kristina',\r\n            img: 'https://pm1.narvii.com/6960/b96261428e66115921eb208de561af56232f451br1-400-400v2_uhq.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Stas',\r\n            img: 'https://whatsism.com/uploads/posts/2018-07/1530544023_n6fgwzftnvg.jpg'\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Sasha',\r\n            img: 'https://avatars.mds.yandex.net/get-pdb/2497678/8a0d8782-6444-499a-b7c2-da531ff44941/s600'\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Katja',\r\n            img: 'https://lh3.googleusercontent.com/proxy/WXHSEScu6kZ8jdFP3HJuwQ2ogjsIi04FNCSkXbva1zykTRIprR0CTqI4v8ikkCmxN66Ok4ilb7gZhC0T2nQQKfqhhQDC3JhMu37v1GXElrVYrA0jkjtWaJ8VQTljt7Q8Rec3j1SOSVFk5jpiEMx-HZSW9j7ooqTIGvfl8vwdV-4'\r\n        }\r\n    ]\r\n}\r\nconst sideBarReducer = (state = initialState, action) => {\r\n    let newState = {...state}\r\n    return newState\r\n}\r\n\r\nexport default sideBarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport newDialogsReducer from \"./newDialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport sideBarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport AppReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: newDialogsReducer,\r\n    usersPage: usersReducer,\r\n    sidebar: sideBarReducer,\r\n    authUser: authReducer,\r\n    app: AppReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)) );\r\nexport default store;\r\n","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {HashRouter, BrowserRouter} from \"react-router-dom\";\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\nserviceWorker.unregister();\n","import {AuthorAxios, SecurityAxios} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL = 'auth/GET_CAPTCHA_URL';\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        }\r\n        case GET_CAPTCHA_URL: {\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUserData = (id, email, login, isAuth) => ({type: SET_USER_DATA, data: {id, email, login, isAuth}});\r\nexport const setCaptchaUrl = (captchaUrl) => ({type: GET_CAPTCHA_URL, captchaUrl});\r\n\r\nexport const getCaptchaUrl = () => {\r\n    return async (dispatch) => {\r\n        const data = await SecurityAxios.getCaptchaUrl()\r\n            dispatch(setCaptchaUrl(data.url));\r\n    }\r\n}\r\n\r\nexport const authUser =  () => {\r\n    return async (dispatch) => {\r\n        const data = await AuthorAxios.autMe()\r\n            if (data.resultCode === 0) {\r\n                let {id, email, login} = data.data;\r\n                dispatch(setUserData(id, email, login, true));\r\n        }\r\n        return data\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        const data = await AuthorAxios.login(email, password, rememberMe, captcha)\r\n            if (data.resultCode === 0) {\r\n                dispatch(authUser());\r\n                dispatch(setCaptchaUrl(null))\r\n            }else {\r\n                if(data.resultCode === 10) {\r\n                    dispatch(getCaptchaUrl())\r\n                }\r\n                dispatch(stopSubmit('login', {_error: data.messages}));\r\n            }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        const data = await AuthorAxios.logout()\r\n            if (data.resultCode === 0) {\r\n                dispatch(setUserData(null, null, null, false));\r\n            }\r\n    }\r\n}\r\nexport default authReducer","import React from 'react';\r\nimport classes from \"./Preloader.module.css\";\r\n\r\nlet Preloader= () => {\r\n    return (\r\n        <div className={classes.lds}></div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2Lu4_\",\"login\":\"Header_login__1xCbv\"};","import {ProfileAxios} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'profile/ADD_POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'profile/SET_USER_STATUS';\r\nconst DELETE_POST = 'profile/DELETE_POST';\r\nconst SET_USER_PHOTO = 'profile/SET_USER_PHOTO';\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'hi how are you?', likeCount: '15'},\r\n        {id: 2, message: \"It is me  first post\", likeCount: '20'},\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {id: 3, message: action.newPost, likeCount: '0'}],\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId)\r\n            }\r\n        }\r\n        case SET_USER_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photo}\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const addNewPost = (newPost) => ({type: ADD_POST, newPost});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const setUserPhoto = (photo) => ({type: SET_USER_PHOTO, photo});\r\n\r\nexport const getUserProfile = (id) => {\r\n    return async (dispatch) => {\r\n        const response = await ProfileAxios.getProfile(id);\r\n        dispatch(setUserProfile(response.data));\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        const userId = getState().authUser.id\r\n        const response = await ProfileAxios.saveProfile(profile);\r\n        if(response.data.resultCode === 0){\r\n            dispatch(getUserProfile(userId));\r\n        }else {\r\n            const input = response.data.messages[0].slice(response.data.messages[0].indexOf('>') + 1, response.data.messages[0].length - 1).toLowerCase()\r\n            const error = {}\r\n            error['contacts']= {};\r\n            error['contacts'][input]= response.data.messages[0].slice(0, response.data.messages[0].indexOf('(') - 1);\r\n            dispatch(stopSubmit('profile', error ));\r\n        }\r\n        return response\r\n    }\r\n}\r\n\r\nexport const savePhoto = (photo) => {\r\n    return async (dispatch) => {\r\n        const response = await ProfileAxios.setPhoto(photo);\r\n        dispatch(setUserPhoto(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (id) => {\r\n    return async (dispatch) => {\r\n        const response = await ProfileAxios.getStatus(id);\r\n        dispatch(setUserStatus(response.data));\r\n    }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n    return async (dispatch) => {\r\n        const response = await ProfileAxios.updateStatus(status);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserStatus(status));\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer","import React from 'react';\r\nimport classes from './Avatar.module.css'\r\n\r\n\r\nconst Avatar = ({img}) => {\r\n    return (\r\n        <div className={classes.item}>\r\n            <img src={img}></img>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Avatar;","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '9db4e204-2315-467d-bda4-460db7f8a440'\r\n    }\r\n});\r\n\r\nexport class UserAxios {\r\n    static getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    }\r\n\r\n    static unfollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n    }\r\n\r\n    static follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport class ProfileAxios {\r\n    static getProfile(id) {\r\n        return instance.get(`profile/${id}`);\r\n    }\r\n\r\n    static getStatus(id) {\r\n        return instance.get(`profile/status/${id}`);\r\n    }\r\n\r\n    static updateStatus(status) {\r\n        return instance.put(`profile/status`, {status});\r\n    }\r\n\r\n    static setPhoto(photo) {\r\n        const formData = new FormData();\r\n        formData.append('image', photo)\r\n        return instance.put(`profile/photo`, formData,{\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        });\r\n    }\r\n    static saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport class AuthorAxios {\r\n    static autMe() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    }\r\n\r\n    static login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`,{email, password, rememberMe, captcha})\r\n            .then(response => response.data)\r\n    }\r\n\r\n    static logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport class SecurityAxios {\r\n    static getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n            .then(response => response.data)\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id: 1, message: 'Hello'},\r\n        {id: 2, message: 'How are you doing?'},\r\n        {id: 3, message: 'Hi'},\r\n        {id: 4, message: 'Bye'},\r\n        {id: 5, message: 'It is ok'}\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Andrew'},\r\n        {id: 2, name: 'Kristina'},\r\n        {id: 3, name: 'Stas'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Katja'}\r\n    ],\r\n    avatars: [\r\n        {id: 1, img: 'https://i.pinimg.com/originals/0c/a9/e2/0ca9e28dcb12dc698cfd2beda6d6fa64.jpg'},\r\n        {\r\n            id: 2,\r\n            img: 'https://pm1.narvii.com/6960/b96261428e66115921eb208de561af56232f451br1-400-400v2_uhq.jpg'\r\n        },\r\n        {\r\n            id: 3,\r\n            img: 'https://pristor.ru/wp-content/uploads/2019/09/%D0%A4%D0%BE%D1%82%D0%BE-%D0%B4%D0%BB%D1%8F-%D0%B0%D0%B2%D0%B0%D1%82%D0%B0%D1%80%D0%BA%D0%B8-%D0%B4%D0%BB%D1%8F-%D0%BF%D0%B0%D1%80%D0%BD%D0%B5%D0%B9-%D0%B2-%D0%92%D0%9A011.jpg'\r\n        },\r\n        {\r\n            id: 4,\r\n            img: 'https://avatars.mds.yandex.net/get-pdb/2497678/8a0d8782-6444-499a-b7c2-da531ff44941/s600'\r\n        },\r\n        {\r\n            id: 5,\r\n            img: 'https://cdn.freelance.ru/img/portfolio/pics/00/37/9B/3644384.jpg?mt=57607de1'\r\n        }\r\n    ]\r\n}\r\n\r\nconst newDialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: action.newMessage,}],\r\n            };\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const addNewMessage = (newMessage) => ({type: ADD_MESSAGE, newMessage})\r\n\r\n\r\nexport default newDialogsReducer","export const converter = (items, id, objPropName, newObjProps) => {\r\n    return items.map (user => {\r\n        if(user[objPropName] === id) {\r\n            return{...user, ...newObjProps}\r\n        }\r\n        return user;\r\n    })\r\n}","import {UserAxios} from \"../api/api\";\r\nimport {converter} from \"../components/Utilits/converter\";\r\n\r\nconst FOLLOW = 'user/FOLLOW';\r\nconst UNFOLLOW = 'user/UNFOLLOW';\r\nconst SET_USERS = 'user/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'user/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'user/SET_TOTAL_COUNT';\r\nconst CHANGE_IS_FETCHING = 'user/CHANGE_IS_FETCHING';\r\nconst DISABLE_BUTTON = 'user/DISABLE_BUTTON';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 50,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: converter(state.users, action.id, 'id', {followed: true})\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: converter(state.users, action.id, 'id', {followed: false})\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount\r\n            }\r\n        }\r\n        case CHANGE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case DISABLE_BUTTON: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.id]\r\n                    : state.followingInProgress.filter(id => id !== action.id)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const followSuccess = (id) => ({type: FOLLOW, id});\r\n\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\n\r\nexport const unfollowSuccess = (id) => ({type: UNFOLLOW, id});\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\n\r\nexport const setTotalCount = (totalCount) => ({type: SET_TOTAL_COUNT, totalCount});\r\n\r\nexport const changeIsFetching = (isFetching) => ({type: CHANGE_IS_FETCHING, isFetching});\r\n\r\nexport const disableButton = (isFetching, id) => ({type: DISABLE_BUTTON, isFetching, id});\r\n\r\n\r\nexport const getUser = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(changeIsFetching(true));\r\n        const data = await UserAxios.getUsers(currentPage, pageSize);\r\n        dispatch(changeIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalCount(data.totalCount));\r\n    }\r\n}\r\nexport const getPage = (numberPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(changeIsFetching(true));\r\n        dispatch(setCurrentPage(numberPage));\r\n        const data = await UserAxios.getUsers(numberPage, pageSize)\r\n        dispatch(changeIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n    }\r\n}\r\n\r\nexport const followUnfollow = async (id, dispatch, api, action) => {\r\n    dispatch(disableButton(true, id));\r\n    const data = await api(id)\r\n    if (data.resultCode === 0) {\r\n        dispatch(action(id));\r\n    }\r\n    dispatch(disableButton(false, id));\r\n}\r\n\r\nexport const unfollow = (id) => {\r\n    return (dispatch) => {\r\n        followUnfollow(id, dispatch, UserAxios.unfollow.bind(UserAxios), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport const follow = (id) => {\r\n    return (dispatch) => {\r\n        followUnfollow(id, dispatch, UserAxios.follow.bind(UserAxios), followSuccess);\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"NavbarFirends_name__336hg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Avatar_item__1cUZs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds\":\"Preloader_lds__3yXX9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__24QFt\",\"item\":\"Navbar_item__T7coa\",\"active\":\"Navbar_active__ua9__\",\"friendsName\":\"Navbar_friendsName__1jYyu\"};"],"sourceRoot":""}