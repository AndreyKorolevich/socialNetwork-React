{"version":3,"sources":["AddFile/IMG/Programmyi-dlya-sozdaniya-avatarok.png","components/Users/Users.module.css","components/Users/User/User.module.css","components/Common/Paginator/Paginator.module.css","components/Users/User/User.jsx","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/Selectors/Users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","User","state","followingInProgress","unfollow","follow","className","classes","user","photo","to","id","avatar","src","photos","small","userFhoto","alt","button","followed","disabled","some","onClick","name","Paginator","totalItemsCount","pageSize","currentPage","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","pieceCount","useState","numberPiece","setNumberPiece","leftBorderPiece","rightBorderPiece","filter","page","map","index","key","selectedPage","undefined","Users","users","totalUsersCount","userElement","usersBlock","pageNumber","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPI","numberPage","props","getPage","render","Preloader","addNewUsers","this","getUser","React","Component","UsersContainer","connect","setTotalCount"],"mappings":"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","file":"static/js/4.03f4b3c8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Programmyi-dlya-sozdaniya-avatarok.de470447.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__wq2bh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2i00f\",\"avatar\":\"User_avatar__2F6xN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__1vMZ-\",\"selectedPage\":\"Paginator_selectedPage__3dvOt\"};","import React from 'react';\r\nimport classes from './User.module.css';\r\nimport userFhoto from '../../../AddFile/IMG/Programmyi-dlya-sozdaniya-avatarok.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({state, followingInProgress, unfollow, follow}) => {\r\n        return (\r\n            <div className={classes.user}>\r\n                <div className={classes.photo}>\r\n                    <NavLink to={`/profile/` + state.id}>\r\n                        <div className={classes.avatar}>\r\n                            <img src={state.photos.small !== null ? state.photos.small : userFhoto} alt='users` avatars'/>\r\n                        </div>\r\n                    </NavLink>\r\n                    <div className={classes.button}>\r\n                        {state.followed\r\n                            ? <button disabled={followingInProgress.some(id => id===state.id)}\r\n                                      onClick={() => {unfollow(state.id)}}>Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id===state.id)}\r\n                                      onClick={() => {follow(state.id)}}>Follow</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.name}>\r\n                    <div>{state.name}</div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n}\r\n\r\nexport default User;","import React, {useState} from 'react';\r\nimport classes from \"./Paginator.module.css\";\r\n\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChange, portionSize = 8}) => {\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const pieceCount = Math.ceil(pagesCount / portionSize);\r\n    const [numberPiece, setNumberPiece] = useState(1)\r\n    const leftBorderPiece = (numberPiece - 1) * portionSize + 1;\r\n    const rightBorderPiece = numberPiece  * portionSize;\r\n\r\n    return <div>\r\n        {numberPiece > 1 && <button onClick={ () => {setNumberPiece(numberPiece - 1)}}>PREV</button>}\r\n        {    pages\r\n            .filter(page => (page >= leftBorderPiece) && (page <= rightBorderPiece))\r\n            .map((page, index) => {\r\n            return <button key={index} className={currentPage === page ? classes.selectedPage : undefined}\r\n                           onClick={() => {\r\n                               onPageChange(page)\r\n                           }}>{page}</button>\r\n        })}\r\n        { pieceCount > numberPiece && <button onClick={ () => {setNumberPiece(numberPiece + 1)}}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from \"./Users.module.css\";\r\nimport User from \"./User/User\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\n\r\n\r\nconst Users = ({users, follow, unfollow, followingInProgress, totalUsersCount, pageSize, currentPage, onPageChange}) => {\r\n    let userElement = users.map((user, index) => <User state={user}\r\n                                              follow={follow}\r\n                                              unfollow={unfollow}\r\n                                              followingInProgress={followingInProgress} key={index}/>);\r\n\r\n    return (\r\n        <div className={classes.usersBlock}>\r\n            <h3>Users</h3>\r\n            <div className={classes.pageNumber}>\r\n                <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage}\r\n                           onPageChange={onPageChange}/>\r\n            </div>\r\n            <div className={classes.users}>\r\n                {userElement}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return  state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return  state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return  state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return  state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return  state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return  state.usersPage.followingInProgress\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {follow, getPage, getUser,setTotalCount,unfollow} from \"../../redux/users-reducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/Selectors/Users-selectors\";\r\n\r\nclass UsersAPI extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUser(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChange = (numberPage) => {\r\n        const {getPage, pageSize} = this.props;\r\n        getPage(numberPage,pageSize)\r\n    }\r\n\r\n    render = () => {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChange={this.onPageChange}\r\n                   addNewUsers={this.addNewUsers}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nconst UsersContainer = connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setTotalCount,\r\n    getUser,\r\n    getPage\r\n})(UsersAPI)\r\nexport default UsersContainer;\r\n\r\n"],"sourceRoot":""}