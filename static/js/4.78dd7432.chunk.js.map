{"version":3,"sources":["AddFile/IMG/Programmyi-dlya-sozdaniya-avatarok.png","components/Users/Users.module.css","components/Users/User/User.module.css","components/Common/Paginator/Paginator.module.css","components/Users/User/User.jsx","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/Selectors/Users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","User","state","followingInProgress","unfollow","follow","className","classes","user","photo","to","id","avatar","src","photos","small","userFhoto","alt","name","button","followed","disabled","some","onClick","Paginator","totalItemsCount","pageSize","currentPage","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","pieceCount","useState","numberPiece","setNumberPiece","leftBorderPiece","rightBorderPiece","aria-label","filter","page","map","index","key","cn","selectedPage","Users","users","totalUsersCount","userElement","usersBlock","pageNumber","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPI","numberPage","props","getPage","render","Preloader","addNewUsers","this","getUser","React","Component","UsersContainer","connect","setTotalCount"],"mappings":"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","file":"static/js/4.78dd7432.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Programmyi-dlya-sozdaniya-avatarok.de470447.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__wq2bh\",\"usersBlock\":\"Users_usersBlock__3T5Bk\",\"pageNumber\":\"Users_pageNumber__1iURo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2i00f\",\"avatar\":\"User_avatar__2F6xN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__1vMZ-\",\"selectedPage\":\"Paginator_selectedPage__3dvOt\"};","import React from 'react';\r\nimport classes from './User.module.css';\r\nimport userFhoto from '../../../AddFile/IMG/Programmyi-dlya-sozdaniya-avatarok.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({state, followingInProgress, unfollow, follow}) => {\r\n        return (\r\n            <div className={classes.user}>\r\n                <div className={classes.photo}>\r\n                    <NavLink to={`/profile/` + state.id}>\r\n                        <div className={classes.avatar}>\r\n                            <img src={state.photos.small !== null ? state.photos.small : userFhoto} alt='users` avatars'/>\r\n                        </div>\r\n                    </NavLink>\r\n                    <div className={classes.name}>\r\n                        <div>{state.name}</div>\r\n                    </div>\r\n                    <div className={classes.button}>\r\n                        {state.followed\r\n                            ? <button className=\"btn btn-outline-warning btn-sm\" disabled={followingInProgress.some(id => id===state.id)}\r\n                                      onClick={() => {unfollow(state.id)}}>Unfollow</button>\r\n                            : <button className=\"btn btn-outline-primary btn-sm\" disabled={followingInProgress.some(id => id===state.id)}\r\n                                      onClick={() => {follow(state.id)}}>Follow</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n}\r\n\r\nexport default User;","import React, {useState} from 'react';\r\nimport classes from \"./Paginator.module.css\";\r\nimport cn from 'classnames'\r\n\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChange, portionSize = 4}) => {\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const pieceCount = Math.ceil(pagesCount / portionSize);\r\n    const [numberPiece, setNumberPiece] = useState(1)\r\n    const leftBorderPiece = (numberPiece - 1) * portionSize + 1;\r\n    const rightBorderPiece = numberPiece  * portionSize;\r\n\r\n    return (\r\n        <nav aria-label=\"Page navigation example\">\r\n            <ul className=\"pagination\">\r\n        {numberPiece > 1 &&\r\n        <li className=\"page-item\" onClick={ () => {setNumberPiece(numberPiece - 1)}}>\r\n            <a className=\"page-link bg-light\" >Previous</a>\r\n        </li>}\r\n        {    pages\r\n            .filter(page => (page >= leftBorderPiece) && (page <= rightBorderPiece))\r\n            .map((page, index) => {\r\n            return <li className=\"page-item\" key={index}\r\n                       onClick={() => {\r\n                           onPageChange(page)\r\n                       }}><a  className={cn(\"page-link bg-light\", {[classes.selectedPage]:currentPage === page })}>{page}</a></li>\r\n        })}\r\n        { pieceCount > numberPiece && <li className=\"page-item\">\r\n            <a className=\"page-link bg-light\" onClick={ () => {setNumberPiece(numberPiece + 1)}}>Next</a></li>}\r\n            </ul>\r\n    </nav>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from \"./Users.module.css\";\r\nimport User from \"./User/User\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\n\r\n\r\nconst Users = ({users, follow, unfollow, followingInProgress, totalUsersCount, pageSize, currentPage, onPageChange}) => {\r\n    let userElement = users.map((user, index) => <User state={user}\r\n                                              follow={follow}\r\n                                              unfollow={unfollow}\r\n                                              followingInProgress={followingInProgress} key={index}/>);\r\n\r\n    return (\r\n        <div className={classes.usersBlock}>\r\n            <h3>Users</h3>\r\n            <div className={classes.pageNumber}>\r\n                <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage}\r\n                           onPageChange={onPageChange}/>\r\n            </div>\r\n            <div className={classes.users}>\r\n                {userElement}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return  state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return  state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return  state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return  state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return  state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return  state.usersPage.followingInProgress\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {follow, getPage, getUser,setTotalCount,unfollow} from \"../../redux/users-reducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/Selectors/Users-selectors\";\r\n\r\nclass UsersAPI extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUser(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChange = (numberPage) => {\r\n        const {getPage, pageSize} = this.props;\r\n        getPage(numberPage,pageSize)\r\n    }\r\n\r\n    render = () => {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChange={this.onPageChange}\r\n                   addNewUsers={this.addNewUsers}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nconst UsersContainer = connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setTotalCount,\r\n    getUser,\r\n    getPage\r\n})(UsersAPI)\r\nexport default UsersContainer;\r\n\r\n"],"sourceRoot":""}