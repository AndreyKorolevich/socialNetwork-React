{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","AddFile/IMG/Programmyi-dlya-sozdaniya-avatarok.png","components/Users/Users.module.css","components/Users/User/User.module.css","components/Common/Paginator/Paginator.module.css","components/Users/User/User.jsx","components/Common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/Selectors/Users-selectors.js","components/Users/UsersContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","User","state","followingInProgress","unfollow","follow","className","classes","user","photo","to","id","avatar","src","photos","small","userFhoto","button","followed","disabled","some","onClick","name","Paginator","totalItemsCount","pageSize","currentPage","onPageChange","portionSize","pagesCount","Math","ceil","pages","pieceCount","useState","numberPiece","setNumberPiece","leftBorderPiece","rightBorderPiece","filter","page","map","selectedPage","Users","users","addNewUsers","totalUsersCount","userElement","usersBlock","pageNumber","getUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPI","setUsers","numberPage","props","getPage","render","Preloader","this","getUser","React","Component","UsersContainer","connect","setTotalCount"],"mappings":"8GAIe,SAASA,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,GALtG,mC,oBIAAC,EAAOC,QAAU,IAA0B,gE,oBCC3CD,EAAOC,QAAU,CAAC,MAAQ,uB,oBCA1BD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,OAAS,uB,oBCArDD,EAAOC,QAAU,CAAC,WAAa,8BAA8B,aAAe,kC,kKC+B7DC,EA3BF,SAAC,GAAoD,IAAnDC,EAAkD,EAAlDA,MAAOC,EAA2C,EAA3CA,oBAAqBC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,OAC7C,OACI,yBAAKC,UAAWC,IAAQC,MACpB,yBAAKF,UAAWC,IAAQE,OACpB,kBAAC,IAAD,CAASC,GAAI,YAAcR,EAAMS,IAC7B,yBAAKL,UAAWC,IAAQK,QACpB,yBACIC,IAA4B,OAAvBX,EAAMY,OAAOC,MAAiBb,EAAMY,OAAOC,MAAQC,QAGpE,yBAAKV,UAAWC,IAAQU,QACnBf,EAAMgB,SACD,4BAAQC,SAAUhB,EAAoBiB,MAAK,SAAAT,GAAE,OAAIA,IAAKT,EAAMS,MACpDU,QAAS,WAAOjB,EAASF,EAAMS,MADvC,YAEA,4BAAQQ,SAAUhB,EAAoBiB,MAAK,SAAAT,GAAE,OAAIA,IAAKT,EAAMS,MACpDU,QAAS,WAAOhB,EAAOH,EAAMS,MADrC,YAKd,yBAAKL,UAAWC,IAAQe,MACpB,6BAAMpB,EAAMoB,S,2BCKjBC,EA1BG,SAAC,GAGf,IAH6F,IAA7EC,EAA4E,EAA5EA,gBAAiBC,EAA2D,EAA3DA,SAAUC,EAAiD,EAAjDA,YAAaC,EAAoC,EAApCA,aAAoC,IAAtBC,mBAAsB,MAAR,GAAQ,EACtFC,EAAaC,KAAKC,KAAKP,EAAkBC,GAC3CO,EAAQ,GACHtD,EAAI,EAAGA,GAAKmD,EAAYnD,IAC7BsD,EAAMvC,KAAKf,GAGf,IAAMuD,EAAaH,KAAKC,KAAKF,EAAaD,GAPkD,EAQtDM,mBAAS,GAR6C,mBAQrFC,EARqF,KAQxEC,EARwE,KAStFC,GAAmBF,EAAc,GAAKP,EAAc,EACpDU,EAAmBH,EAAeP,EAExC,OAAO,6BACFO,EAAc,GAAK,4BAAQd,QAAU,WAAOe,EAAeD,EAAc,KAAtD,QACfH,EACAO,QAAO,SAAAC,GAAI,OAAKA,GAAQH,GAAqBG,GAAQF,KACrDG,KAAI,SAAAD,GACL,OAAO,4BAAQlC,UAAWoB,IAAgBc,EAAOjC,IAAQmC,kBAAetD,EACzDiC,QAAS,WACLM,EAAaa,KACbA,MAErBP,EAAaE,GAAe,4BAAQd,QAAU,WAAOe,EAAeD,EAAc,KAAtD,UCGvBQ,EAvBD,SAAC,GAAuH,IAAtHC,EAAqH,EAArHA,MAAOvC,EAA8G,EAA9GA,OAAQD,EAAsG,EAAtGA,SAAUD,EAA4F,EAA5FA,oBAAqB0C,EAAuE,EAAvEA,YAAaC,EAA0D,EAA1DA,gBAAiBrB,EAAyC,EAAzCA,SAAUC,EAA+B,EAA/BA,YAAaC,EAAkB,EAAlBA,aAC3GoB,EAAcH,EAAMH,KAAI,SAAAjC,GAAI,OAAI,kBAAC,EAAD,CAAMN,MAAOM,EACPH,OAAQA,EACRD,SAAUA,EACVD,oBAAqBA,OAE/D,OACI,yBAAKG,UAAWC,IAAQyC,YACpB,qCACA,yBAAK1C,UAAWC,IAAQ0C,YACpB,kBAAC,EAAD,CAAWzB,gBAAiBsB,EAAiBrB,SAAUA,EAAUC,YAAaA,EAAaC,aAAcA,KAE7G,yBAAKrB,UAAWC,IAAQqC,OACnBG,GAEL,yBAAKzC,UAAWC,IAAQU,QACpB,4BAAQI,QAASwB,GAAjB,gB,gBCtBHK,EAAW,SAAChD,GACrB,OAAQA,EAAMiD,UAAUP,OAGfQ,EAAc,SAAClD,GACxB,OAAQA,EAAMiD,UAAU1B,UAGf4B,EAAqB,SAACnD,GAC/B,OAAQA,EAAMiD,UAAUL,iBAGfQ,EAAiB,SAACpD,GAC3B,OAAQA,EAAMiD,UAAUzB,aAGf6B,EAAgB,SAACrD,GAC1B,OAAQA,EAAMiD,UAAUK,YAGfC,EAAyB,SAACvD,GACnC,OAAQA,EAAMiD,UAAUhD,qBCRtBuD,E,4MAOFb,YAAc,WACV,EAAKc,Y,EAGThC,aAAe,SAACiC,GAAgB,IAAD,EACC,EAAKC,OACjCC,EAF2B,EACpBA,SACCF,EAFmB,EACXnC,W,EAIpBsC,OAAS,WACL,OAAO,oCACF,EAAKF,MAAML,WAAa,kBAACQ,EAAA,EAAD,MAAe,KACxC,kBAAC,EAAD,CAAOpB,MAAO,EAAKiB,MAAMjB,MAClBvC,OAAQ,EAAKwD,MAAMxD,OACnBD,SAAU,EAAKyD,MAAMzD,SACrB0C,gBAAiB,EAAKe,MAAMf,gBAC5BrB,SAAU,EAAKoC,MAAMpC,SACrBC,YAAa,EAAKmC,MAAMnC,YACxBC,aAAc,EAAKA,aACnBkB,YAAa,EAAKA,YAClB1C,oBAAqB,EAAK0D,MAAM1D,wB,kEAzB1B,IAAD,EACgB8D,KAAKJ,MAA9BnC,EADS,EACTA,YAAaD,EADJ,EACIA,SACpBwC,KAAKJ,MAAMK,QAAQxC,EAAaD,O,GAJjB0C,IAAMC,WA4CvBC,EAAiBC,aAZC,SAACpE,GACrB,MAAO,CACH0C,MAAOM,EAAShD,GAChBuB,SAAU2B,EAAYlD,GACtB4C,gBAAiBO,EAAmBnD,GACpCwB,YAAa4B,EAAepD,GAC5BsD,WAAYD,EAAcrD,GAC1BC,oBAAqBsD,EAAuBvD,MAKJ,CAC5CG,WACAD,aACAmE,kBACAL,YACAJ,aALmBQ,CAMpBZ,GACYW","file":"static/js/7.47355972.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/Programmyi-dlya-sozdaniya-avatarok.de470447.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__wq2bh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__2i00f\",\"avatar\":\"User_avatar__2F6xN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageNumber\":\"Paginator_pageNumber__1vMZ-\",\"selectedPage\":\"Paginator_selectedPage__3dvOt\"};","import React from 'react';\r\nimport classes from './User.module.css';\r\nimport userFhoto from '../../../AddFile/IMG/Programmyi-dlya-sozdaniya-avatarok.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({state, followingInProgress, unfollow, follow}) => {\r\n        return (\r\n            <div className={classes.user}>\r\n                <div className={classes.photo}>\r\n                    <NavLink to={`/profile/` + state.id}>\r\n                        <div className={classes.avatar}>\r\n                            <img\r\n                                src={state.photos.small !== null ? state.photos.small : userFhoto}></img>\r\n                        </div>\r\n                    </NavLink>\r\n                    <div className={classes.button}>\r\n                        {state.followed\r\n                            ? <button disabled={followingInProgress.some(id => id===state.id)}\r\n                                      onClick={() => {unfollow(state.id)}}>Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id===state.id)}\r\n                                      onClick={() => {follow(state.id)}}>Follow</button>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className={classes.name}>\r\n                    <div>{state.name}</div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n}\r\n\r\nexport default User;","import React, {useState} from 'react';\r\nimport classes from \"./Paginator.module.css\";\r\n\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChange, portionSize = 15}) => {\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const pieceCount = Math.ceil(pagesCount / portionSize);\r\n    const [numberPiece, setNumberPiece] = useState(1)\r\n    const leftBorderPiece = (numberPiece - 1) * portionSize + 1;\r\n    const rightBorderPiece = numberPiece  * portionSize;\r\n\r\n    return <div>\r\n        {numberPiece > 1 && <button onClick={ () => {setNumberPiece(numberPiece - 1)}}>PREV</button>}\r\n        {    pages\r\n            .filter(page => (page >= leftBorderPiece) && (page <= rightBorderPiece))\r\n            .map(page => {\r\n            return <button className={currentPage === page ? classes.selectedPage : undefined}\r\n                           onClick={() => {\r\n                               onPageChange(page)\r\n                           }}>{page}</button>\r\n        })}\r\n        { pieceCount > numberPiece && <button onClick={ () => {setNumberPiece(numberPiece + 1)}}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from \"./Users.module.css\";\r\nimport User from \"./User/User\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\n\r\n\r\nconst Users = ({users, follow, unfollow, followingInProgress, addNewUsers, totalUsersCount, pageSize, currentPage, onPageChange}) => {\r\n    let userElement = users.map(user => <User state={user}\r\n                                              follow={follow}\r\n                                              unfollow={unfollow}\r\n                                              followingInProgress={followingInProgress}/>);\r\n\r\n    return (\r\n        <div className={classes.usersBlock}>\r\n            <h3>Users</h3>\r\n            <div className={classes.pageNumber}>\r\n                <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize} currentPage={currentPage} onPageChange={onPageChange}/>\r\n            </div>\r\n            <div className={classes.users}>\r\n                {userElement}\r\n            </div>\r\n            <div className={classes.button}>\r\n                <button onClick={addNewUsers}>Show more</button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return  state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return  state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return  state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return  state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return  state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return  state.usersPage.followingInProgress\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {follow, getPage, getUser,setTotalCount,unfollow} from \"../../redux/users-reducer\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress, getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/Selectors/Users-selectors\";\r\n\r\nclass UsersAPI extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUser(currentPage, pageSize)\r\n    }\r\n\r\n    addNewUsers = () => {\r\n        this.setUsers();\r\n    }\r\n\r\n    onPageChange = (numberPage) => {\r\n        const {getPage, pageSize} = this.props;\r\n        getPage(numberPage,pageSize)\r\n    }\r\n\r\n    render = () => {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChange={this.onPageChange}\r\n                   addNewUsers={this.addNewUsers}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nconst UsersContainer = connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setTotalCount,\r\n    getUser,\r\n    getPage\r\n})(UsersAPI)\r\nexport default UsersContainer;\r\n\r\n"],"sourceRoot":""}